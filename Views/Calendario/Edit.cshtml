@model WebAdminScheduler.Models.CP_CRONTAB;
@{
    ViewData["Title"] = "Edit";
}
<head>
  <link rel="stylesheet" href="~/css/datatables.min.css" />
    <link rel="stylesheet" href="~/lib/Toast/dist/jquery.toast.min.css" />
    <link rel="stylesheet" href="~/lib/SweetAlert/dist/sweetalert2.min.css" />
    <script src="~/js/jquery-1.11.3.min.js"></script>
    <script src="~/js/pdfmake.min.js"></script>
    <script src="~/js/vfs_fonts.js"></script>
    <script src="~/js/datatables.min.js"></script>
    <script src="~/lib/SweetAlert/dist/sweetalert2.min.js"></script>
    <script src="~/lib/Toast/dist/jquery.toast.min.js"></script>
</head>	

<div>
    <a asp-action="Index" class="btn btn-primary">Inicio </a>
</div>

 @using (Html.BeginForm("Save", "Calendario", FormMethod.Post))
  {
    <body>
        <h1>Calendarios</h1>
        <div class="card">
            <div class="card-header">
                Editar
            </div>
            <div class="card-body">
                <div class="row g-4 align-items-center">
                    <div class="col-auto">
                        <label for="TittleCrontab" class="col-form-label">IDCRONTAB</label>
                    </div>
                <div class="col-auto">
                    <label for="txtCrontab" class="col-form-label" id="updIdCrontab">@Model.IDCRONTAB</label>
                </div>
                <div class="col-auto">
                    <span id="passwordHelpInline" class="form-text">
                    Hora Inicio 
                    </span>
                    
                </div>
                <div class="col-auto">
                    <select class="form-select" name="updhoraIni" id="updhoraIni">
                    <option value="00">00</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    </select>
                </div>
                <div class="col-auto">
                    <select class="form-select" name="uptminutoIni" id="uptminutoIni">
                    <option value="00">00</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                    <option value="32">32</option>
                    <option value="33">33</option>
                    <option value="34">34</option>
                    <option value="35">35</option>
                    <option value="36">36</option>
                    <option value="37">37</option>
                    <option value="38">38</option>
                    <option value="39">39</option>
                    <option value="40">40</option>
                    <option value="41">41</option>
                    <option value="42">42</option>
                    <option value="43">43</option>
                    <option value="44">44</option>
                    <option value="45">45</option>
                    <option value="46">46</option>
                    <option value="47">47</option>
                    <option value="48">48</option>
                    <option value="49">49</option>
                    <option value="50">50</option>
                    <option value="51">51</option>
                    <option value="52">52</option>
                    <option value="53">53</option>
                    <option value="54">54</option>
                    <option value="55">55</option>
                    <option value="56">56</option>
                    <option value="57">57</option>
                    <option value="58">58</option>
                    <option value="59">59</option>
                    </select>
                </div>
                <div class="col-auto">
                    <span id="passwordHelpInline" class="form-text">
                        Hora Fin
                    </span>
                </div>
                <div class="col-auto">
                    <select class="form-select" name="upthoraFin" id="upthoraFin">
                    <option value="00">00</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    </select>
                </div>
                <div class="col-auto">
                    <select class="form-select" name="uptminutoFin" id="uptminutoFin">
                     <option value="00">00</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                    <option value="32">32</option>
                    <option value="33">33</option>
                    <option value="34">34</option>
                    <option value="35">35</option>
                    <option value="36">36</option>
                    <option value="37">37</option>
                    <option value="38">38</option>
                    <option value="39">39</option>
                    <option value="40">40</option>
                    <option value="41">41</option>
                    <option value="42">42</option>
                    <option value="43">43</option>
                    <option value="44">44</option>
                    <option value="45">45</option>
                    <option value="46">46</option>
                    <option value="47">47</option>
                    <option value="48">48</option>
                    <option value="49">49</option>
                    <option value="50">50</option>
                    <option value="51">51</option>
                    <option value="52">52</option>
                    <option value="53">53</option>
                    <option value="54">54</option>
                    <option value="55">55</option>
                    <option value="56">56</option>
                    <option value="57">57</option>
                    <option value="58">58</option>
                    <option value="59">59</option>
                    </select>
                </div>
                </div><hr />

                <a href="#" class="link-info">Días</a>
                <div class="row g-4 align-items-center">
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptLunes">
                        <label class="form-check-label" for="flexCheckUptLunes">
                            Lunes
                        </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptMartes">
                        <label class="form-check-label" for="flexCheckUptMartes">
                            Martes
                        </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptMiercoles">
                        <label class="form-check-label" for="flexCheckUptMiercoles">
                            Miercoles
                        </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptJueves">
                        <label class="form-check-label" for="flexCheckUptJueves">
                            Jueves
                        </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptViernes">
                        <label class="form-check-label" for="flexCheckUptViernes">
                            Viernes
                        </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptSabado">
                        <label class="form-check-label" for="flexCheckUptSabado">
                            Sabado
                        </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDomingo">
                        <label class="form-check-label" for="flexCheckUptDomingo">
                            Domingo
                        </label>
                        </div>
                    </div>
                </div>
                <hr />

                <a href="#" class="link-info">Días Ejecución</a>
                <div class="row g-4 align-items-center">
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" onClick="toggle(this)" /> Seleccionar/Deseleccionar todos<br><br>
                        </div>
                    </div>
                </div>
                
                <table id="tbl-dias-exe" class="display nowrap" width="100%">
                <thead>
                <tr>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptUnoExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtUnoExe">
                            1
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDosExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtDosExe">
                            2
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptTresExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtTresExe">
                            3
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptCuatroExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtCuatroExe">
                            4
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptCincoExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtCincoExe">
                            5
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptSeisExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtSeisExe">
                            6
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptSieteExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtSieteExe">
                            7
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptOchoExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtOchoExe">
                            8
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptnueveExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtnueveExe">
                            9
                        </label>
                    </td>
                    <td>
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDiezExe" name="dinamico" >
                    </td>
                    <td>
                        <label class="form-check-label" for="flexCheckTxtDiezExe">
                            10
                        </label>
                    </td>
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptOnceExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtOnceExe">
                                11
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDoceExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtDoceExe">
                                12
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptTreceExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtTreceExe">
                                13
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptCatorceExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtCatorceExe">
                                14
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptQuinceExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtQuinceExe">
                                15
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDiesiseisExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtDiesiseisExe">
                                16
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDiesicieteExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtDiesicieteExe">
                                17
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDiesiochoExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtDiesiochoExe">
                                18
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDiecinueveExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtDiecinueveExe">
                                19
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeinteExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeinteExe">
                                20
                            </label>
                        </td>
                    </tr>
                </tbody>
                </table>
                <table id="tbl-dias-exe" class="display nowrap" width="100%">
                    <thead>
                    <tr>
                        <th>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckVeintiunoExe" name="dinamico" >
                        </th>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintiunoExe">
                                21
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeintidosExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintidosExe">
                                22
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeintitresExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintitresExe">
                                23
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeinticuatroExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeinticuatroExe">
                                24
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeinticincoExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeinticincoExe">
                                25
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeintiseisExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintiseisExe">
                                26
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeintisieteExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintisieteExe">
                                27
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeintiochoExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintiochoExe">
                                28
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptVeintinueveExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtVeintinueveExe">
                                29
                            </label>
                        </td>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptTreintaExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtTreintaExe">
                                30
                            </label>
                        </td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptTreintaunoExe" name="dinamico" >
                        </td>
                        <td>
                            <label class="form-check-label" for="flexCheckTxtTreintaunoExe">
                                31
                            </label>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <hr />

                <a href="#" class="link-info">Meses</a>
                <div class="row g-4 align-items-center">
                    <div class="col-auto">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckUptEnero">
                            <label class="form-check-label" for="flexCheckTxtEnero">
                                Enero
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptFebrero">
                            <label class="form-check-label" for="flexCheckTxtFebrero">
                                Febrero
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptMarzo">
                            <label class="form-check-label" for="flexCheckTxtMarzo">
                                Marzo
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptAbril">
                            <label class="form-check-label" for="flexCheckTxtAbril">
                                Abril
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptMayo">
                            <label class="form-check-label" for="flexCheckTxtMayo">
                                Mayo
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptJunio">
                            <label class="form-check-label" for="flexCheckTxtJunio">
                                Junio
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptJulio">
                            <label class="form-check-label" for="flexCheckTxtJulio">
                                Julio
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptAgost">
                            <label class="form-check-label" for="flexCheckTxtAgost">
                                Agosto
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptSept">
                            <label class="form-check-label" for="flexCheckTxtSept">
                                Septiembre
                            </label>
                        </div>
                    </div>        
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptOct">
                            <label class="form-check-label" for="flexCheckTxtOct">
                                Octubre
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptNov">
                            <label class="form-check-label" for="flexCheckTxtNov">
                                Noviembre
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckUptDic">
                            <label class="form-check-label" for="flexCheckTxtDic">
                                Diciembre
                            </label>
                        </div>
                    </div>
                </div>
                
                <hr />
                <div class="accordion accordion-flush" id="accordionFlushExample">
                    <div class="row g-4 align-items-center">
                        <div class="col-auto">
                            <span id="txtRepeatEveryMins" class="form-text">
                                REPEAT_EVERY_MINS
                            </span>
                        </div>
                        <div class="col-auto">
                            <input type="number" min="1" id="UptRepeatEveryMins" class="form-control clockpicker" data-placement="right" data-align="top" data-autoclose="true">
                            
                        </div>
                        <div class="col-auto">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="IdUptRepeatAfterFin">
                                <label class="form-check-label" for="RepeatAfterFin">
                                    REPEAT_AFTER_FINISH
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer text-muted">
                <a id="btnSave" class="btn btn-primary">Guardar</a>
            </div>
        </div>

        <div class="container">
            <table id="dt-jobs" class="display nowrap" width="100%">
                <thead>
                <tr>
                    <th><input type="checkbox" name="select_all" class="dt-column-title" value="1" id="tblJobs-select-all"></th>
                    <th>IDPROC</th>
                    <th>IDCONEX</th>
                    <th>NOMBRE</th>
                    <th>DESCRIPCIÓN</th>
                    <th>PATH</th>  
                    <th>PARAMETRO1</th>
                    <th>PARAMETRO2</th>
                    <th>PARAMETRO3</th>
                    <th>PARAMETRO4</th>
                    <th>DEPENDENCIA</th>
                    <th>INTENTOS</th>
                    <th>ESPERA INTENTO</th>
                    <th>ESTADO</th>
                    <th>FTP</th>
                    <th>IDHOST</th>
                    <th>COMPRESIÓN</th>
                    <th>IDCRONTAB</th>
                    <th>NODE</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </body>
}
    
  <script> 
var params={};
 var table={};
 var idcrontab="@ViewBag.IDCRONTAB";
 params.idcrontab=idcrontab;

 
 
var horainicio="@Model.HORA_INICIO[0]";
var  horafin="@Model.HORA_INICIO[2]";
var  minutoinicio="@Model.HORA_INICIO[1]";
var  minutofin="@Model.HORA_INICIO[3]";

console.log("hora inicio ",horainicio)
 
 
    function toggle(source) {
      checkboxes = document.getElementsByName('dinamico');

      for(var i=0, n=checkboxes.length;i<n;i++) {
        checkboxes[i].checked = source.checked;
      }
    }

    $(document).on("ready",function() {

          table = $('#dt-jobs').DataTable( {
            "processing": true,
            "serverSide": true,
            "filter": true,
            "scrollX":          true,
            "sScrollX":         "50%",
            "scrollY":            $(document).height() - 300,
            "scrollCollapse":     true,
            "ajax": {
                "url": "@Url.Action("ListarJobsAsoc","Calendario")",
                "type": "GET",
                "datatype": "json",
                "data": function(d){
                $.extend( d, params);    
                },
        },
            "columnDefs": [{
            'targets': 0,
            orderable: false,
            'render': function (data, type, full, meta){
                return '<input type="checkbox" name="id[]" value="' + $('<div/>').text(data).html() + '">';
            }
            }],
            "columns": [
            {
                "render": function (data,row) { return '<input type="checkbox" name="select_all" class="dt-column-title" value="1" id="example-select-all">';   }
            },
                { "data": "idproc", "name": "idproc", "autoWidth": true },
                { "data": "idconex", "name": "idconex", "autoWidth": true },
                { "data": "nombre", "name": "nombre", "autoWidth": true },
                { "data": "descripcion", "name": "descripcion", "autoWidth": true },
                { "data": "path", "name": "path", "autoWidth": true },
                { "data": "parametrO1", "name": "parametrO1", "autoWidth": true },
                { "data": "parametrO2", "name": "parametrO2", "autoWidth": true },
                { "data": "parametrO3", "name": "parametrO3", "autoWidth": true },
                { "data": "parametrO4", "name": "parametrO4", "autoWidth": true },
                { "data": "dependencia", "name": "dependencia", "autoWidth": true },
                { "data": "intentos", "name": "intentos", "autoWidth": true },
                { "data": "esperA_INTENTO", "name": "esperA_INTENTO", "autoWidth": true },
                { "data": "estado", "name": "estado", "autoWidth": true },
                { "data": "ftp", "name": "ftp", "autoWidth": true },
                { "data": "idhost", "name": "idhost", "autoWidth": true },
                { "data": "compresion", "name": "compresion", "autoWidth": true },
                { "data": "idcrontab", "name": "idcrontab", "autoWidth": true },
                { "data": "node", "name": "node", "autoWidth": true },
            ],
            
            select: {
            style:    'os',   //default but you have to specify it, no idea why
            selector: 'tr,a:not(.btn)'
            },
            "language": {
            "url": "/lib/datatables/dist/locales/es/es.json"
            }
        });
 
        table.on('select', function (e, dt, type, indexes) {
        console.log(e.target);
        if (type === 'row'   ) {
            var nodes = table
            .rows(indexes)
            .nodes()
            .each(function () { 
            $('td:first-child', this).find('input').prop('checked', true); 
            });
        }
        });

        table.on('deselect', function (e, dt, type, indexes) {
        if (type === 'row') {
        $('#example-select-all').prop("checked",false);
            table
            .rows(indexes)
            .nodes()
            .each(function () { 
            $('td:first-child', this).find('input').prop('checked', false); 
            });
        }
        });
        
        // Handle click on "Select all" control
        $('#example-select-all').on('click', function() {
          
        console.log("esta selecconado: ",$(this).is(":checked")," otra forma ",this.checked )
        // Get all rows with search applied
          var rows = table.rows({ 'search': 'applied' }).nodes();
          // Check/uncheck checkboxes for all rows in the table
        if(this.checked){
          $('input[type="checkbox"]', rows).prop('checked', this.checked);
          
          var selData =   table.rows().select();
          var selData =   table.rows(".selected").data();
        }
        else 
        {
            var selData =   table.rows().deselect();
        }
      });

        // Handle click on checkbox to set state of "Select all" control
        $('#example tbody').on('change', 'input[type="checkbox"]', function(){
            // If checkbox is not checked
            if(!this.checked){
            var el = $('#example-select-all').get(0);
            // If "Select all" control is checked and has 'indeterminate' property
            if(el && el.checked && ('indeterminate' in el)){
                // Set visual state of "Select all" control
                // as 'indeterminate'
                el.indeterminate = true;
            }
            }
        });
        
        table.on('select', function (e, dt, type, indexes) {
            console.log(e.target);
            if (type === 'row'   ) {
                var nodes = table
                .rows(indexes)
                .nodes()
                .each(function () { 
                $('td:first-child', this).find('input').prop('checked', true); 
                });
                //.find(':checkbox', 'td:first-child').checked = true; 
            }
            });

        table.on('deselect', function (e, dt, type, indexes) {
        if (type === 'row') {
        $('#example-select-all').prop("checked",false);
            table
            .rows(indexes)
            .nodes()
            .each(function () { 
            $('td:first-child', this).find('input').prop('checked', false); 
            });
        }
        });
        
        // Handle click on "Select all" control
        $('#example-select-all').on('click', function(){
            
        console.log("esta selecconado: ",$(this).is(":checked")," otra forma ",this.checked )
        // Get all rows with search applied
            var rows = table.rows({ 'search': 'applied' }).nodes();
            // Check/uncheck checkboxes for all rows in the table
        if(this.checked){
            $('input[type="checkbox"]', rows).prop('checked', this.checked);
            
            var selData =   table.rows().select();
            var selData =   table.rows(".selected").data();
        }
        else 
        {
        var selData =   table.rows().deselect();
        }
        });

        // Handle click on checkbox to set state of "Select all" control
        $('#example tbody').on('change', 'input[type="checkbox"]', function(){
        // If checkbox is not checked
        if(!this.checked){
          var el = $('#example-select-all').get(0);
          // If "Select all" control is checked and has 'indeterminate' property
          if(el && el.checked && ('indeterminate' in el)){
          // Set visual state of "Select all" control
          // as 'indeterminate'
          el.indeterminate = true;
        }
      }
    });
   // recargartabla(table,idcrontab);


 

$("#updhoraIni option[value='"+String(horainicio).padStart(2, '0')+"']").attr('selected', true);
 $("#uptminutoIni option[value='"+String(minutoinicio).padStart(2, '0')+"']").attr('selected', true);
     
 

       
$("#upthoraFin option[value='"+String(horafin).padStart(2, '0')+"']").attr('selected', true);
 $("#uptminutoFin option[value='"+String(minutofin).padStart(2, '0')+"']").attr('selected', true);
    })
 
   
</script>